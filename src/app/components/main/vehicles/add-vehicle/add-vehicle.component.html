<!-- Dialog Title for Register Vehicle form -->
<h2 mat-dialog-title>Register Vehicle</h2>

<!-- Divider for visual separation -->
<mat-divider></mat-divider>

<!-- Dialog content section that contains the form -->
<mat-dialog-content><br>

  <!-- The form element for vehicle registration, bound to a form group in Angular -->
  <form [formGroup]="form" id="addVehicle" (ngSubmit)="submit()">

    <!-- Error message display if any error occurs during form submission -->
    <p class="error">{{ error }}</p>

    <!-- Vehicle Number field -->
    <p>
      <mat-form-field appearance="outline">
        <mat-label>Vehicle Number</mat-label> <!-- Label for the input field -->
        <input matInput formControlName="vehicle_number" required> <!-- Input field for vehicle number -->
      </mat-form-field>
    </p>

    <!-- Row layout for multiple fields -->
    <div class="row">

      <!-- Vehicle Type dropdown selector -->
      <p>
        <mat-form-field appearance="outline">
          <mat-label>Vehicle Type</mat-label> <!-- Label for the vehicle type field -->
          <mat-select formControlName="type">
            <!-- Options for vehicle types -->
            <mat-option value="bus">Bus</mat-option>
            <mat-option value="car">Car</mat-option>
            <mat-option value="dual_purpose">Dual Purpose</mat-option>
            <mat-option value="lorry">Lorry</mat-option>
            <mat-option value="motorcycle">Motorcycle</mat-option>
            <mat-option value="threewheel">Threewheel</mat-option>
            <mat-option value="van">Van</mat-option>
            <mat-option value="other">Other</mat-option>
          </mat-select>
        </mat-form-field>
      </p>

      <!-- Year of Manufacture input field -->
      <p>
        <mat-form-field appearance="outline">
          <mat-label>Year of Manufacture</mat-label> <!-- Label for year of manufacture field -->
          <input matInput formControlName="yom" required> <!-- Input field for year of manufacture -->
        </mat-form-field>
      </p>
    </div>

    <!-- Row layout for Brand and Model fields -->
    <div class="row">

    <!-- Brand input field -->
    <p>
      <mat-form-field appearance="outline">
         <mat-label>Brand</mat-label> <!-- Label for the brand field -->
        <input matInput formControlName="brand" required> <!-- Input field for vehicle brand -->
      </mat-form-field>
    </p>

      <!-- Model input field -->
      <p>
        <mat-form-field appearance="outline">
          <mat-label>Model</mat-label> <!-- Label for the model field -->
          <input matInput formControlName="model" required> <!-- Input field for vehicle model -->
        </mat-form-field>
      </p>
    </div>

    <div class="row">

      <!-- Brand input field -->
      <p>
        <mat-form-field appearance="outline">
           <mat-label>Brand</mat-label> <!-- Label for the brand field -->
          <input matInput formControlName="brand" required> <!-- Input field for vehicle brand -->
        </mat-form-field>
      </p>
  
        <!-- Model input field -->
        <p>
          <mat-form-field appearance="outline">
            <mat-label>Model</mat-label> <!-- Label for the model field -->
            <input matInput formControlName="model" required> <!-- Input field for vehicle model -->
          </mat-form-field>
        </p>
      </div>

    <!-- Row layout for Millage and Color fields -->
    <div class="row">

      <!-- Millage input field with validation pattern for numeric values -->
      <p>
        <mat-form-field appearance="outline">
          <mat-label>Millage</mat-label> <!-- Label for the millage field -->
          <input matInput formControlName="millage" pattern="[0-9]{1,7}"> <!-- Input field for millage -->
        </mat-form-field>
      </p>

      <!-- Color input field -->
      <p>
        <mat-form-field appearance="outline">
          <mat-label>Color</mat-label> <!-- Label for the color field -->
          <input matInput formControlName="color" required> <!-- Input field for vehicle color -->
        </mat-form-field>
      </p>
    </div>

    <!-- Checkbox to indicate whether the vehicle is owned by the user -->
    <p>
      <mat-checkbox (click)="setOwner()">Owned by Myself</mat-checkbox>
    </p>

    <!-- Owner input field -->
    <p>
      <mat-form-field appearance="outline">
        <mat-label>Owner</mat-label> <!-- Label for the owner field -->
        <input matInput formControlName="owner" required> <!-- Input field for vehicle owner -->
      </mat-form-field>
    </p>

    <!-- Checkbox to indicate whether the vehicle has a lease -->
    <p>
      <mat-checkbox [(ngModel)]="lease" [ngModelOptions]="{standalone: true}">Have lease</mat-checkbox>
    </p>

    <!-- Leasing company field, only visible when 'lease' is true -->
    <p *ngIf="lease">
      <mat-form-field appearance="outline">
        <mat-label>Leasing Company / Absolute Owner</mat-label> <!-- Label for the leasing company field -->
        <input matInput formControlName="absolute_owner"> <!-- Input field for the leasing company -->
      </mat-form-field>
    </p>

  </form>

</mat-dialog-content>

<!-- Divider to separate the form content from the dialog actions -->
<mat-divider></mat-divider>

<!-- Dialog action buttons -->
<mat-dialog-actions class="flex-right">

  <!-- Submit button to add the vehicle, linked to the form's submit method -->
  <button mat-button type="submit" form="addVehicle">Add Vehicle</button>

  <!-- Cancel button to close the dialog without submitting -->
  <button mat-button cdkFocusInitial matDialogClose>Cancel</button>

</mat-dialog-actions>
