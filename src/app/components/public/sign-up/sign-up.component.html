<h2>Welcome to RoadEye!</h2>
<h1>Sign up</h1>
<p class="error">{{ error }}&nbsp;</p>
<form [formGroup]="form" (ngSubmit)="submit()">
  <div class="row">
    <p>
      <mat-form-field appearance="outline">
        <mat-label>First Name</mat-label>
        <input matInput formControlName="first_name" required>
      </mat-form-field>
    </p>
    <p>
      <mat-form-field appearance="outline">
        <mat-label>Last Name</mat-label>
        <input matInput formControlName="last_name" required>
      </mat-form-field>
    </p>
  </div>
  <div class="row">
    <p style="flex: 100%">
      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" required>
      </mat-form-field>
    </p>
    <p style="flex: auto; padding-top: 10px">
      <button type="button" mat-flat-button color="primary" [disabled]="form.controls.email.invalid" (click)="verifyEmail()">verify</button>
    </p>
  </div>
  <div class="row">
    <p>
      <mat-form-field appearance="outline">
        <mat-label>OTP</mat-label>
        <input matInput formControlName="otp" pattern="[0-9]{6}" required>
      </mat-form-field>
    </p>
    <p>
      <br>
      <span *ngIf="otpSent">We've just emailed you an OTP</span>
    </p>
  </div>
  <div class="row">
    <p>
      <mat-form-field appearance="outline">
        <mat-label>Contact Number</mat-label>
        <input matInput formControlName="phone" required>
      </mat-form-field>
    </p>
    <p>
      <mat-form-field appearance="outline">
        <mat-label>NIC</mat-label>
        <input matInput formControlName="nic" required>
      </mat-form-field>
    </p>
  </div>
  <p>
    <mat-form-field appearance="outline">
      <mat-label>Username</mat-label>
      <input matInput formControlName="username" required>
    </mat-form-field>
  </p>
  <div class="row">
    <p>
      <mat-form-field appearance="outline">
        <mat-label>Password</mat-label>
        <input matInput formControlName="password" [type]="showPassword?'text':'password'" required>
        <button mat-icon-button matSuffix (click)="showPassword = !showPassword">
          <mat-icon>{{ showPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
      </mat-form-field>
    </p>
    <p>
      <mat-form-field appearance="outline">
        <mat-label>Confirm Password</mat-label>
        <input matInput formControlName="confirmPassword" [type]="showConfirmPassword?'text':'password'" required>
        <button mat-icon-button matSuffix (click)="showConfirmPassword = !showConfirmPassword">
          <mat-icon>{{ showConfirmPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
      </mat-form-field>
    </p>
  </div>
  <p>
    <mat-checkbox class="example-margin" color="primary">I agree to <a routerLink="/terms" required>terms and conditions</a></mat-checkbox>
  </p>

  <button mat-raised-button class="btn-submit" [disabled]="paused || done">{{ done ? 'Registration Successful!' : 'Sign Up' }}</button>
</form>
<p class="switch">
  I already have an account? <a routerLink="/login">Login</a>
</p>
